<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Piggyvest interest calc</title>
    <style>
      :root {
        --color: #144499;
        --hover: #30c57b;
      }
      * {
        margin: 0;
        padding: 0;
        border: 0;
        box-sizing: border-box;
      }
      .container {
        display: flex;
        flex-direction: column;
        height: 100vh;
        font-family: 'CircularStd', sans-serif;
      }
      nav {
        display: flex;
        justify-content: space-between;
        height: 75px;
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        background: #fff;
        z-index: 2000;
        width: 100%;
        font-size: 14px;
        align-items: center;
      }
      .logo-alt {
        max-width: 180px;
        max-height: 60px;
        display: inline-block;
        padding-bottom: 0;
        margin-left: 20px;
      }
      nav ul {
        display: flex;
        align-items: center;
        width: 50%;
        justify-content: space-around;
      }
      ul {
        list-style-type: none;
      }
      a {
        color: var(--color);
        text-decoration: none;
      }
      .signup-btn {
        border: 1px solid var(--color);
        border-radius: 5px;
        padding: 15px 30px;
      }
      .card {
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        position: relative;
        width: 100%;
        height: 100%;
        display: flex;
        padding: 40px;
      }
      .image {
        background: url('https://res.cloudinary.com/dtyrfo0fx/image/upload/f_auto/v1592407981/hng%20granite/5240.jpg')
          no-repeat center center;
        background-size: cover;
        background-color: var(--color);
        width: 66%;
        height: 100%;
      }
      .calc {
        width: 33%;
        background-color: var(--color);
        border-radius: 20px;
        color: white;
        padding: 10px;
        display: flex;
        align-items: center;
        flex-direction: column;
        justify-content: center;
      }
      .planbuttons {
        justify-content: space-around;
        flex-wrap: wrap;
        align-items: center;
        display: grid;
        grid-template-columns: auto auto auto;
        row-gap: 5px;
        column-gap: 10px;
        margin-bottom: 10px;
      }
      .planbutton {
        border-radius: 10px;
        border: 1px white solid;
        padding: 5px;
        font-size: 0.8rem;
        cursor: pointer;
        margin-right: 2px;
        text-align: center;
        min-width: 77px;
      }
      .planbutton:hover {
        border-color: var(--hover);
        color: var(--hover);
      }
      .picked {
        border-color: var(--hover);
        color: var(--hover);
      }
      .sname {
        display: block;
        text-align: center;
        margin-bottom: 5px;
      }
      input[type='range'] {
        cursor: pointer;
      }
      .calculate {
        border-radius: 20px;
        background-color: var(--hover);
        padding: 10px 40px;
        width: 254px;
        margin: 0 auto;
        text-align: center;
        cursor: pointer;
      }
      .output {
        /* height: 30px; */
        background-color: orange;
        text-align: center;
        line-height: 30px;
        padding: 0 20px;
        margin-top: 10px;
        width: 254px;
      }
      .output:empty {
        padding: 0;
        width: 0;
      }
      #range {
        padding: 0;
      }
      .header {
        font-size: 1.4rem;
        font-weight: bold;
        margin-bottom: 10px;
        color: orange;
      }
      .amountval,
      select {
        border-radius: 5px;
      }
      .amountval,
      select,
      .years input {
        border: none;
        outline: none;
        padding: 6px 6px;
        width: 254px;
      }
      .amountval:focus {
        border: 1px solid orange;
      }
      .plan {
        margin-bottom: 10px;
      }
      .plan .sname {
        display: block;
        text-align: center;
        margin-bottom: 10px;
      }
      .amount {
        margin-bottom: 10px;
      }
      .period {
        margin-bottom: 10px;
      }
      .years {
        text-align: center;
        margin-bottom: 10px;
      }
      .years span {
        display: inline;
      }
      .harm {
        display: none;
      }
      @media only screen and (max-width: 873px) {
        ul {
          display: none !important;
        }
        .harm {
          display: unset;
          width: 20px;
          height: 20px;
          margin-right: 30px;
          cursor: pointer;
        }
        .card {
          flex-direction: column;
          padding: 0;
        }
        .image {
          min-height: 50vh;
          min-width: 100%;
          background-attachment: unset;
        }
        .calc {
          width: 100%;
          margin-top: -25px;
          padding-top: 40px;
        }
      }
      @media only screen and (max-width: 600px) {
        .years,
        .planbuttons {
          margin-bottom: 10px;
        }
        .planbuttons {
          grid-template-columns: auto auto;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <nav>
        <a href="/">
          <img
            src="https://storage.googleapis.com/piggybankservice.appspot.com/statics/piggy-png_1_.png"
            class="logo-alt"
            alt=""
          />
        </a>
        <img
          class="harm"
          src="https://img.icons8.com/metro/26/000000/menu.png"
        />
        <ul class="menu _no-show">
          <li class="menu-list">
            <a href="https://www.piggyvest.com/about" class="menu-link"
              >About</a
            >
          </li>
          <li class="menu-list">
            <a href="https://www.piggyvest.com/stories" class="menu-link"
              >Stories</a
            >
          </li>
          <li class="menu-list">
            <a href="https://www.piggyvest.com/faq" class="menu-link">FAQ</a>
          </li>
          <li class="menu-list">
            <a
              href="https://medium.com/@Piggyvest"
              target="_blank"
              class="menu-link"
              >Blog</a
            >
          </li>
          <li class="menu-list">
            <a href="https://dashboard.piggyvest.com/login" class="menu-link"
              >Log In</a
            >
          </li>
          <li class="menu-list">
            <a
              href="https://dashboard.piggyvest.com/register"
              class="menu-link signup-btn"
              >Create a Free Account</a
            >
          </li>
        </ul>
      </nav>
      <!-- <span>lets create your saving goal</span> -->
      <div class="card">
        <div class="image"></div>
        <div class="calc">
          <div class="header">Interest Calculator</div>
          <div class="plan">
            <span class="sname">Select a Piggy Plan</span>
            <div class="planbuttons">
              <div title="Up to 10% interest" class="planbutton piggybank">
                Piggy Bank
              </div>
              <div title="Up to 15.5% interest" class="planbutton safelock">
                SafeLock
              </div>
              <div title="Up to 10% interest" class="planbutton target">
                Target
              </div>
              <div title="Up to 10% interest" class="planbutton flex">Flex</div>
              <div title="Up to 6% interest" class="planbutton dollar">
                Flex Dollar
              </div>
              <div title="Up to 25% interest" class="planbutton investify">
                Investify
              </div>
            </div>
            <!-- add comments on selected -->
          </div>
          <div class="amount">
            <span class="sname">Amount</span>
            <input class="amountval" type="text" />
          </div>
          <div class="period">
            <span class="sname">Period</span>
            <select name="" id="period">
              <option value="1">Yearly</option>
              <option value="2">Bi-annually</option>
              <option value="3">Quaterly</option>
              <option value="4">Monthly</option>
            </select>
          </div>
          <div class="years">
            <span class="sname fund">Years to Fund</span>
            (<span class="rangeoutput">1</span>)
            <div>
              <input type="range" min="1" max="50" value="0" id="range" />
            </div>
          </div>
          <div class="calculate">Calculate</div>
          <div class="output"></div>
        </div>
      </div>
    </div>
    <script>
      const range = document.querySelector('#range');
      const rangeOutput = document.querySelector('.rangeoutput');
      const output = document.querySelector('.output');
      const plan = document.querySelector('.planbuttons');
      const period = document.querySelector('#period');
      const calculate = document.querySelector('.calculate');
      const amount = document.querySelector('.amountval');
      const fund = document.querySelector('.fund');
      let selected;
      let selectedPeriod = '1';
      range.oninput = function () {
        rangeOutput.innerHTML = this.value;
      };
      plan.onclick = function (e) {
        if (e.target.classList.contains('planbutton')) {
          Array.from(e.target.parentElement.children).forEach((el) => {
            el.classList.remove('picked');
          });
          e.target.classList.add('picked');
          if (e.target.classList.contains('piggybank')) {
            selected = 10 / 100;
          }
          if (e.target.classList.contains('safelock')) {
            selected = 15.5 / 100;
          }
          if (e.target.classList.contains('target')) {
            selected = 10 / 100;
          }
          if (e.target.classList.contains('flex')) {
            selected = 15.5 / 100;
          }
          if (e.target.classList.contains('dollar')) {
            selected = 6 / 100;
          }
          if (e.target.classList.contains('investify')) {
            selected = 25 / 100;
          }
        }
      };

      period.onchange = function (e) {
        selectedPeriod = e.target.value;
        console.log(e.target.value);
        switch (e.target.value) {
          case '1':
            fund.innerHTML = 'Years to Fund';
            break;
          case '2':
            fund.innerHTML = 'Bi-annual times to Fund';
            break;
          case '3':
            fund.innerHTML = 'Quaters to Fund';
            break;
          case '4':
            fund.innerHTML = 'Months to Fund';
            break;
          default:
            break;
        }
      };

      const getDate = (month) => {
        let date = new Date();
        const newDate = (mth) => {
          var d = date.getDate();
          date.setMonth(date.getMonth() + +mth);
          if (date.getDate() != d) {
            date.setDate(0);
          }
          return date;
        };

        switch (selectedPeriod) {
          case '1':
            date = newDate(12 * +range.value);
            break;
          case '2':
            date = newDate(6 * +range.value);
            break;
          case '3':
            date = newDate(4 * +range.value);
            break;
          case '4':
            date = newDate(1 * +range.value);
            break;
          default:
            break;
        }
        const monthNames = [
          'January',
          'February',
          'March',
          'April',
          'May',
          'June',
          'July',
          'August',
          'September',
          'October',
          'November',
          'December',
        ];
        let mth = monthNames[date.getMonth()];
        let day = String(date.getDate()).padStart(2, '0');
        let year = date.getFullYear();
        return `${mth}, ${year}`;
      };
      calculate.onclick = function (e) {
        if (amount.value === '' || amount.value === null) {
          output.innerHTML = 'Please complete the form';
          return;
        }
        if (!selected) {
          output.innerHTML = 'Please complete the form';
          return;
        }
        const date = getDate(selectedPeriod);
        output.innerHTML = `You get ‚Ç¶${
          +amount.value * +selected
        } interest and ‚Ç¶${(
          ((+amount.value * +selected + +amount.value) * range.value) /
          selectedPeriod
        ).toFixed(2)} in total by ${date} üëç`;
      };
    </script>
  </body>
</html>
